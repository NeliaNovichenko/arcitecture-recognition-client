
<div>
  <div class="m-2">
    Hi there!
    Try out architecture styles prediction by uploading your building image!
  </div>
  <div class="input-group upload-block my-2">
      <div class="custom-file">
        <input type="file" accept="image/*" class="custom-file-input" id="inputGroupFile04" (change)="onFileChanged($event)" >
        <label class="custom-file-label" for="inputGroupFile04">{{file ? file.name : 'Choose file'}}</label>
      </div>
      <div class="input-group-append">
        <button class="btn btn-outline-secondary" type="button" [disabled]="!file" (click)="sendImage()">Predict style</button>
      </div>
  </div>

  <img class="d-inline" #imagePreview width="300" />
  <div class="d-inline"  class="result-section">
    <div *ngIf="loading" class="spinner-border spinner" role="status">
        <span class="sr-only">Loading...</span>
      </div>	
    <div *ngIf="!loading && result">
      <div *ngFor="let r of result">{{r.style + ' : ' + r.probability}}</div>
    </div>
  </div>

  <div class="result-section" *ngIf="!loading && result">
    <div>
      <div class="form-group">
        <label for="image_title">Title: </label>
        <input #title type="text" class="form-control" id="image_title" ([ngModel])="title" placeholder="My Building">
      </div>
      <div class="form-group">
        <label for="image_description">Description: </label>
        <textarea #description class="form-control" id="image_description" ([ngModel])="description" rows="3"></textarea>
      </div>
      <div class="form-group">
          <label for="image_date">Date image taken: </label>
          <input #imageDate type="date" area class="form-control" ([ngModel])="imageDate" id="image_date" rows="3">
      </div>

      <button (click)="saveResult(title.value, description.value, imageDate.value)" [disabled]="saved">Save results</button>    
      <div *ngIf="saved">Saved</div>    
    </div>
  </div>  
</div>